<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
body{
font-size: 3em;
background: black;
color:white;
}
input {
font-size: 3em;
background: navy;
color:white;
}
button {
font-size: 3em;
background: navy;
color:coral;

}

textarea {
  background: cyan;
  color: black;
  font-size: 3em;
  width: 80vw;
}
</style>
<h3>Esercitazione del 10 marzo 2020 di Diritto e tecniche amministrative</h3>
<div id="index"></div>
<div id="prosegui"></div>
<div id="screen"></div>

<!--                       FIREBASE CREDENTIALS   -->


<script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDp-mWaWEI07pIdRUhi6vA-salEMRWz4hw",
    authDomain: "quiz-e5e5a.firebaseapp.com",
    databaseURL: "https://quiz-e5e5a.firebaseio.com",
    projectId: "quiz-e5e5a",
    storageBucket: "quiz-e5e5a.appspot.com",
    messagingSenderId: "901845403492"
  };
  firebase.initializeApp(config);
  let database = firebase.database();
  let ref = database.ref("5bs_12");
  ref.on("value", gotData)


function gotData(data){

}


</script>


<!--  end of firebase credentials ------------------>


<script>

// password2 = {
// "DApolito Giuliano": "010",
// "Giordano Emilio": "001",
// "Guariglia Livio": "100",
// "Landi Anna Maria": "110",
// "Lembo Giulia": "011",
// "Mainente Giuseppina": "101",
// "Malzone Tatiana": "1100",
// "Mauro Nicole": "00011",
// "Mazziotti Christian": "11000",
// "Pepe Raffaele": "01010",
// "Puglia Alessia": "101010",
// "Saturno Antonio": "0110",
// "Scelza Filomena": "1111",
// "Tardio Monica" : "0001"};

password = {
"DApolito": "010",
"Giordano": "001",
"Guariglia": "100",
"Landi": "110",
"Lembo": "011",
"Mainente": "101",
"Malzone": "1100",
"Mauro": "00011",
"Mazziotti": "11000",
"Pepe": "01010",
"Puglia": "101010",
"Saturno": "0110",
"Scelza": "1111",
"Tardio" : "0001"};

screen = document.getElementById("screen");

screen.innerHTML = `<h4 style="background:coral;color:yellow;">Traccia:
</h4>
`

            //          TRACCIA                  //

traccia = ``

// ICONA DELL'IMMAGINE DA SCARICARE
traccia += ``

// Le domande sul testo precedente
traccia += `<h2>Domande:</h2>

<div style="color:coral">
<ol>
<li>Cos'è e a cosa serve l'analisi di bilancio?</li>
<li>È importante il numero di indici utilizzati?</li>
<li>Quali sono le tre situazioni dell'impresa che gli indici analizzano? Gli indici hanno un significato autonomo?</li>
</ol>
</div>`

traccia += `
Dopo aver risposto clicca sul pulsante Invia a gatto.gio@gmail.com.`

screen.innerHTML += "<b>Prova:</b><br>"
let pass_word = "";


for (name in password){
      index.innerHTML += "<a href='#student"+name+"'><img src='../"+name+".PNG' width=100>" + name + "</a><br> ";
}

for (name in password){
  new_image = "";
  // new_image = "https://source.unsplash.com/1000x700";
  console.log(name);
  pass_word = "pass" + name; // this is the id of input (the password user input)
  // name.split(" ").join("")
  let html = ["<div style='background:coral' id='student"+name+"''><center><img src='../"+name+".PNG'></center><br>"+name+"</div>"+ traccia,
              //"<b style='background:coral;color:white;font-size:2em;'>"+name+"</b>",
              `<table><td><td><button onclick="manda(`+name+`.id, `+name+`.value, '`+name+`')"><i class="fa fa-envelope"> Invia a gatto.gio@gmail.com </i></button><tr><td><td><textarea placeholder="..." id="` + name + `" type="text" rows=10>`,`</table><br>`,"Fine dello spazio di "+name+new_image+"<hr>"
              ]
  for (data of html){
  screen.innerHTML += data;
  }

}

</script>

<script>

function manda(alunno, valore, name){
  
  // commentando questo, non c'è bisogno di password, controllo l'email
  //if (password[name] == pass){
    window.open('mailto:gatto.gio@gmail.com?subject='+alunno+' - Esercizio 10.3.2020&body='+valore);
    ref.child(name).set(valore)
  //}
}
</script>
