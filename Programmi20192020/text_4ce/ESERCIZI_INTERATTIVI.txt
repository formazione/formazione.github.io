<style>
body, button, input {
font-size: 2em;
background: black;
color:white;
}
</style>
<div id="screen"></div>
<div id="prosegui"></div>
<script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
<script>

  var config = {
    apiKey: "AIzaSyDp-mWaWEI07pIdRUhi6vA-salEMRWz4hw",
    authDomain: "quiz-e5e5a.firebaseapp.com",
    databaseURL: "https://quiz-e5e5a.firebaseio.com/",
    projectId: "quiz-e5e5a",
    storageBucket: "quiz-e5e5a.appspot.com",
    messagingSenderId: "901845403492"
  };
  firebase.initializeApp(config);
  let database = firebase.database();
ref = database.ref().child("es28");
  ref.on("value", gotData, errData);

function gotData(data){
/*
    prosegui.innerHTML = "";
    x = data.val();
    for (n in x){
      prosegui.innerHTML += n + ": " + x[n] + "<br>"
    }
*/  
}


function errData(err){
    console.log("Error");
    console.log(err);
  }

lista = [
"Acone",
"Battagliese",
"Borrelli",
"Carracino",
"Ciardi",
"Donnianni",
"Fluri",
"Gonoshi",
"Ghiungus",
"Liguori",
"Maiese",
"Mautone",
"Merola",
"Palladino",
"Ricci",
"Romanno",
"Saja_A",
"Saja_P",
"Tierno",

]

password = {
"Acone" : "123",
"Battagliese": "456",
"Borrelli": "789",
"Carracino": "12",
"Ciardi" : "23",
"Donnianni": "35",
"Fluri" : "37",
"Gonoshi": "78",
"Ghiungus": "45",
"Liguori": "43",
"Maiese": "89",
"Mautone": "67",
"Merola": "11",
"Palladino": "434",
"Ricci": "456",
"Romano": "778",
"Saja_A": "654",
"Saja_P": "80",
"Tierno": "367",
}

screen = document.getElementById("screen");
// ===> inserisci qui sotto il TESTO ESERCIZIO
screen.innerHTML = `

<h4 style="background:coral;color:yellow;">Traccia:</h4>
<br>
<button onclick="e1.style.visibility='visible'">Es 1</button>
<div id="e1" style="visibility:hidden">
1. Un debito di 4.500 € viene pagato in anticipo di un anno, calcola lo sconto commerciale al tasso del 3% e il valore attuale del debito.
</div>
<button onclick="e2.style.visibility='visible';e1.style.visibility='hidden'">Es 2</button>
<div id="e2" style="visibility:hidden">
Un debito di 7.600 € viene pagato in anticipo di 2 anni. Calcola lo sconto commerciale al tasso del 4,5% e il valore attuale del debito.
</div>
<textarea cols=30 rows=3 style="font-size:2em;"></textarea>

`// == FINE testo esercizio ====
screen.innerHTML += "<h2>Inserite i dati</h2>"
let pass_word = "";
for (name of lista){
  console.log(name);
  pass_word = "pass" + name;
  let html = ["<b style='background:coral;color:white;'>"+name+"</b>", "<br>",
              `Password: <input id="` + pass_word + `" type="text" size=3>`,
              "<br>",
              `Soluzioni (indica il numero dell'esercizio prima della soluzione) 1)... 2)...: <input id="` + name + `" type="text"> `,
              `<button onclick="manda(`+name+`.id, `+name+`.value, `+pass_word+`.value, '`+name+`')">Invia</button><br><br>`
              ]
  for (data of html){
  screen.innerHTML += data;
  }

}


function manda(alunno, valore, pass, name){
  if (password[name] == pass){
  	ref.child(alunno).set(valore);
    console.log("inviato"+alunno+valore);
  }
}
</script>






