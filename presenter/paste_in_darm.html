<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="initial-scale=1.0">
    <title>Quiz</title>
    <!-- jquery for maximum compatibility -->
	<link type="text/css" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css">
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
	<script src="https://code.jquery.com/jquery-1.11.1.min.js" integrity="sha256-VAvG3sHdS5LqTT+5A/aeq/bZGa/Uj04xKxY8KM/w9EE=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script>let quiz = [{
	        "question"      :   "Che cos'è un hotel?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbYVst99yCiaTRXVqA24ZVgZvPLm_H1VCjuKBq6AStWLFCCmfBPDS5XiYF9Q&s",
	        "choices"       :   ['Un hotel è un tipo di struttura ricettiva che offre sistemazioni per i viaggiatori, generalmente con servizi come ristorante, bar e altri servizi accessori.'],
	        "correct"       :   "Un hotel è un tipo di struttura ricettiva che offre sistemazioni per i viaggiatori, generalmente con servizi come ristorante, bar e altri servizi accessori.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Quali sono i servizi di base che si possono trovare in un hotel?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhj4Ww1sQL5CIv6fMVFmr774HfYxDXTOZYdmiDfmFSXFK5hy_UWSQ6w-XWeik&s",
	        "choices"       :   ['I servizi di base di un hotel includono solitamente la reception, le camere, la pulizia, il servizio di ristorazione e le aree comuni come la hall o la sala per le conferenze.'],
	        "correct"       :   "I servizi di base di un hotel includono solitamente la reception, le camere, la pulizia, il servizio di ristorazione e le aree comuni come la hall o la sala per le conferenze.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Quali sono i differenti tipi di camere che si possono trovare in un hotel?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfEP4IZilqG4pg2ZB7bCl_rC98-UCd7rLIP6bG821S-mmVqrjM6EOksyAtxA&s",
	        "choices"       :   ["Le camere in un hotel possono variare in base al numero di letti, alle dimensioni e alla presenza di servizi come il bagno privato, la TV, il frigorifero, l'aria condizionata e il servizio in camera."],
	        "correct"       :   "Le camere in un hotel possono variare in base al numero di letti, alle dimensioni e alla presenza di servizi come il bagno privato, la TV, il frigorifero, l'aria condizionata e il servizio in camera.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Cosa significa check-in?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjB9zqVSMq6RJE6uGgH1N6oA_Xv5Olu_XO1YOZArUfkooQr8kk7uXYTc8eEWg&s",
	        "choices"       :   ['Il check-in è il processo in cui il cliente arriva in hotel, si registra alla reception e riceve le chiavi della propria camera.'],
	        "correct"       :   "Il check-in è il processo in cui il cliente arriva in hotel, si registra alla reception e riceve le chiavi della propria camera.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Cosa significa check-out?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVr7K9lrs9X8DMisNuz2RJU-9AHDUaq6x8BIuMmy9nS5K66DFFfTsKl691lek&s",
	        "choices"       :   ["Il check-out è il processo in cui il cliente lascia l'hotel, restituisce le chiavi alla reception e paga eventuali spese aggiuntive."],
	        "correct"       :   "Il check-out è il processo in cui il cliente lascia l'hotel, restituisce le chiavi alla reception e paga eventuali spese aggiuntive.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Quali sono i vantaggi di prenotare una camera in anticipo?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoS5JVFEYK2lzjbi4Whw94vqnOsKN1JW45ZkBzLN6_tn0Rgna6YK__4GctZ6c&s",
	        "choices"       :   ["La prenotazione in anticipo garantisce che il cliente abbia una camera disponibile al momento dell'arrivo e potrebbe anche garantire tariffe migliori."],
	        "correct"       :   "La prenotazione in anticipo garantisce che il cliente abbia una camera disponibile al momento dell'arrivo e potrebbe anche garantire tariffe migliori.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Cosa significa overbooking?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTuavmkp7jy3UPM0JdcBk2-DGS2sNPLAbsPDSdkchzWhb2Q-ZiuXDGXt-UF2BU&s",
	        "choices"       :   ["Overbooking è quando un hotel accetta più prenotazioni rispetto alla capacità effettiva dell'hotel, nella speranza che alcuni clienti non si presentino o annullino la prenotazione."],
	        "correct"       :   "Overbooking è quando un hotel accetta più prenotazioni rispetto alla capacità effettiva dell'hotel, nella speranza che alcuni clienti non si presentino o annullino la prenotazione.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Cosa significa servizio in camera?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZfu2nmvIgyshK8CD-qwTybOesFmtnqZ16hK9YjvBCzNgLv45s1KzsxhFGskg&s",
	        "choices"       :   ["Il servizio in camera è un servizio in cui il cliente può ordinare cibo e bevande dal ristorante dell'hotel e farlo consegnare direttamente nella propria camera."],
	        "correct"       :   "Il servizio in camera è un servizio in cui il cliente può ordinare cibo e bevande dal ristorante dell'hotel e farlo consegnare direttamente nella propria camera.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Cosa significa concierge?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjlN5rgy58p-1eMJl-1Kt0q4536MTD2VTDhna0o3Cs6Br3XUzanPmEQrjJxfM&s",
	        "choices"       :   ["Il concierge è una persona che lavora in hotel e fornisce assistenza ai clienti per organizzare attività e prenotazioni fuori dall'hotel."],
	        "correct"       :   "Il concierge è una persona che lavora in hotel e fornisce assistenza ai clienti per organizzare attività e prenotazioni fuori dall'hotel.",
	        "explanation"   :   "",
	    },{
	        "question"      :   "Quali sono le norme di comportamento da seguire in un hotel?",
	        "image"         :   "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzBl7ux6THoi3v3HsBC2P9nbrcdZQhhT1wWRqWZkKGGWw03lb74cI-zrLznU8&s",
	        "choices"       :   ["I clienti dovrebbero rispettare le norme di comportamento dell'hotel, come non fumare in camere non fumatori, non disturbare gli altri ospiti, non danneggiare la proprietà dell'hotel e rispettare gli orari di check-in e check-out."],
	        "correct"       :   "I clienti dovrebbero rispettare le norme di comportamento dell'hotel, come non fumare in camere non fumatori, non disturbare gli altri ospiti, non danneggiare la proprietà dell'hotel e rispettare gli orari di check-in e check-out.",
	        "explanation"   :   "",
	    },];var quiztitle = "Hotel";

function speak(x, language="it") {
  synth = speechSynthesis
  utt = new SpeechSynthesisUtterance(x);
  utt.lang=language;
  synth.speak(utt);
  is_on = 1;
}


function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;
  // While there remain elements to shuffle...
  while (0 !== currentIndex) {
    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;
    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }
  return array;
}
	    
if (!("scramble" in Array.prototype)) {
  Object.defineProperty(Array.prototype, "scramble", {
    enumerable: false,
    value: function() {
      var o, i, ln = this.length;
      while (ln--) {
        i = Math.random() * (ln + 1) | 0;
        o = this[ln];
        this[ln] = this[i];
        this[i] = o;
      }
      return this;
    }
  });
}		


quiz.forEach(q => q.choices.scramble()); // Mescola l'ordine delle risposte
// quiz = shuffle(quiz); // mescola l'ordine delle domande
var currentquestion = 0, score = 0, submt=true, picked;
let count_speak = 0;
jQuery(document).ready(function($){

  
function addChoices(choices){
		if(typeof choices !== "undefined" && $.type(choices) == "array"){
			$('#choice-block').empty();
			for(var i=0;i<choices.length; i++){
        // added .css({'font-size':'36px'}) il 2 marzo 2019
			$(document
        .createElement('li'))
        .addClass('choice choice-box btn')
        .attr('data-index', i)
        .text(choices[i])
        .appendTo('#choice-block')
        .css({'font-size':'28px'});		//  Aggiunge risposte
      }
		}
      
	}
        

function nextQuestion(){
   
		submt = true;
		$('#explanation').empty(); // svuota spiegazione
		$('#question').text(quiz[currentquestion]['question']); // domanda attuale
    // domanda n. di ... totale domande
		$('#pager').text('Domanda' + Number(currentquestion + 1) + ' di ' + quiz.length);
    // Immagine... ?
		if(quiz[currentquestion].hasOwnProperty('image') && quiz[currentquestion]['image'] != ""){
			if($('#question-image').length == 0){
				$(document.createElement('img'))
          .addClass('question-image')
          .attr('id', 'question-image')
          .attr('src', quiz[currentquestion]['image'])
          .attr('alt', (quiz[currentquestion]['question']))
          .insert('#question');
			} else {
				$('#question-image')
          .attr('src', quiz[currentquestion]['image'])
          .attr('alt', (quiz[currentquestion]['question']));
			}
		} else {
			$('#question-image')
        .remove();
		}
		addChoices(quiz[currentquestion]['choices']);
		setupButtons();
		// parla solo una volta ======|||||||||=====>>>
          if (count_speak==0 && is_on==1){
      speak(quiz[currentquestion]['question']);
      count_speak = 1;
    }
      } // function nextQuestion


function processQuestion(choice){
  
  // ===========   Risposta ESATTA!  ==============================
  if(quiz[currentquestion]['choices'][choice] == quiz[currentquestion]['correct'])
    {
			$('.choice')
        .eq(choice)
        .addClass('btn-success')
        .css({'font-size':'36px', 'font-weight':'bold', 'border-color':'#51a351', 'color':'#fff'});
			$('#explanation')
        .html('<span class="correct">ESATTO!</span> ' + (quiz[currentquestion]['explanation']));
            let ff = ["sÃ¬","ok","bene","sicuro","corretto","esatto","perfetto","certo","giusto",].sort(function(){return 0.5 - Math.random()})[0];
      speak(ff);
			      score++;
            count_speak = 0;
		} 
    
  else {
    $('.choice')
          .eq(choice)
          .addClass('btn-danger')
          .css({'font-weight':'bold', 'border-color':'#f93939', 'color':'#fff'});
    $('#explanation')
      .html('<span class="incorrect">INESATTO!</span> ' + (quiz[currentquestion]['explanation']));
      speak("No! Ã¨")
      // itancese
      speak(quiz[currentquestion]['correct'], LINGUA_RISPOSTA); // RISPOSTA ERRATA IN LINGUA FRANCESE
          }
      count_speak = 0;
      currentquestion++;
  // ========================= qui Ã¨ stata aggiunta da 322
  if (currentquestion < quiz.length)  nextQuestion();
  // =========================


    // SONO FINITE LE DOMANDE... MOSTRA I RISULTATI
	if(currentquestion == quiz.length){
		$('#submitbutton')
      .html('GET QUIZ RESULTS') // nuovo testo
      .removeClass('btn-success') // nuovo stile
      .addClass('btn-info')
      .css({'border-color':'#3a87ad', 'color':'#fff'})
      .on('click', function(){$(this).text('GET QUIZ RESULTS').on('click');
			endQuiz();
		})
		
	}
    
    else if (currentquestion < quiz.length)
    {} 
    // SE CI SONO ANCORA DOMANDE, RIMETTE IL PULSANTE CONTROLLA LA RISPOSTA
      
			// $('#submitbutton').html('VAI ALLA PROSSIMA DOMANDA &raquo;')
      //   .removeClass('btn-success')
      //   .addClass('btn-warning')
      //   .css({'font-weight':'bold', 'border-color':'#faa732', 'color':'#fff'})
      //   .on('click', function(){
			// 	        $(this).text(' CLICCA PRIMA SUL PULSANTE QUI SOPRA ')
			//           .removeClass('btn-warning')
			//           .addClass('btn-success')
			//           .css({'font-weight':'bold', 'border-color':'#51a351', 'color':'#fff'})
			//           .on('click');
			// 	        nextQuestion();})
      // }
		
	}

     

let LINGUA_RISPOSTA = "it"; // cambia la lingua della risposta quando le lingue sono diverse

function setupButtons(){
    //speak(quiz[currentquestion]['question'])
		$('.choice').on('click', function(){
		synth.cancel();
    is_on = 0;
		picked = $(this).attr('data-index');
		speak(quiz[currentquestion]['choices'][picked], LINGUA_RISPOSTA);
		show_button();
		// risposte in itancese
		$('.choice').removeAttr('style').off('mouseout mouseover');
		$(this).css({'font-weight':'900', 'border-color':'#51a351', 'color':'#51a351', 'background' : 'gold'});
		if(submt){
				submt=false;
				$('#submitbutton').css({'color':'#fff','cursor':'pointer'}).on('click', function(){
				$('.choice').off('click');
				$(this).off('click');
				processQuestion(picked);
          //
				});
			}
		})
	}
      
      
function endQuiz(){
		$('#explanation').empty();
		$('#question').empty();
		$('#choice-block').empty();
		$('#submitbutton').remove();
		$('.rsform-block-submit').addClass('show');
		$('#question').text("You got " + score + " out of " + quiz.length + " correct.");
		$(document.createElement('h4')).addClass('score').text(Math.round(score/quiz.length * 100) + '%').insertAfter('#question');			
	}

      /**
       * Runs the first time and creates all of the elements for the quiz
       */
	function init(){
    speak(quiz[currentquestion]['question'])
		//add title
 
		if(typeof quiztitle !== "undefined" && $.type(quiztitle) === "string"){
			$(document.createElement('h2')).text(quiztitle).appendTo('#itame');
		} else {
			$(document.createElement('h2')).text("Quiz").appendTo('#itame');
		}
 
		
		//add pager and questions
		if(typeof quiz !== "undefined" && $.type(quiz) === "array"){
			//add pager
      
			$(document.createElement('p')).addClass('pager').attr('id','pager').text('Domanda 1 di ' + quiz.length).appendTo('#itame');
			//add first question
			$(document.createElement('h3')).addClass('question').attr('id', 'question').text(quiz[0]['question']).appendTo('#itame');
			//add image if present
			if(quiz[0].hasOwnProperty('image') && quiz[0]['image'] != ""){
				$(document.createElement('img')).addClass('question-image').attr('width','100px').attr('id', 'question-image').attr('src', quiz[0]['image']).attr('alt', (quiz[0]['question'])).appendTo('#itame');
			}
			
			$(document.createElement('p')).addClass('explanation').attr('id','explanation').html('').appendTo('#question');
			
			//questions holder
			$(document.createElement('ul')).attr('id', 'choice-block').appendTo('#itame');
			
			//add choices
			addChoices(quiz[0]['choices']);
			
			
			setupButtons();
		}
	}

function show_button(){
			//add submit button
			$(document.createElement('div')).addClass('btn-success choice-box').attr('id', 'submitbutton').text('- CONTROLLA LA RISPOSTA -').css({'font-weight':'bold', 'color':'#fff','padding':'30px 0', 'border-radius':'10px'}).appendTo('#itame').on('click');
}

	init();

});
		
// function copyText() {
// 	var output = document.getElementById("itame").innerHTML;
// 	document.getElementById("placecontent").value = output;
// }
</script>
    <style type="text/css" media="all">
      
      .btn:hover, .btn:active {
        color: blue;
        font-weight: 800;
      background-image: url("http://www.myiconfinder.com/uploads/iconsets/65192ff2984e9928d32fd577bc743ea5.png");
        background-size: 100%;
  
      }

      /*        BODY                 */
body {
    margin: 0;
    font-family: "Consolas",Helvetica,Arial,sans-serif;
    font-size: 24px;
    line-height: 20px;
    color: #ffffff;
    background-color: #21517ee8;
}
    h3.question {
    font-family: "Consolas",Helvetica,Arial,sans-serif;
    font-weight: normal;
    font-size: 48px;
    margin: 20px 0;
    padding: 0;
    font-style: italic;
    display: block;
    color: whitesmoke;
    
}  
      
		input 	
      
      { height:30px !important; }
      
		input[type=checkbox]
      
      { height:30px !important; margin-top:-3px !important; 
        margin-right:5px !important; box-shadow:none; background-color:#ffffff;
        position:relative !important; }
      
		textarea												
      { width: 90%; margin: 0 auto; display: block; }
      
		input[type=radio]								
      { height:30px !important; margin-top:-3px !important; margin-right:5px !important; box-shadow:none; background-color:#ffffff; position:relative !important; }
      
		.form-group input, .form-group select 					{ height:30px; padding: 0px 12px; }
		.form-horizontal .form-group							{ margin:10px; }
		.formContainer .formControlLabel 						{ width:auto !important; min-width:150px; margin:0; padding:0; }
		.formControls											{ width:100%; padding:0; margin: 10px 0 20px auto; }
		.radio 													{ padding-top:0 !important; padding-left:8px !important; }
		.radio-inline											{ margin-right:10px; padding-top:0 !important; display:inline; }
		.bold													{ font-weight:bold; }
		.italic 												{ font-style:italic; }
		.clear					 								{ width:100%; margin:0 !important; }
		.rsform-block-submit 									{ display:none; }
		.show 													{ display: block !important; }
		#submit													{ margin:0 auto; display:block; }

		/* QUIZ STYLES */
      li.choice-block {font-size: 28px};
		ol,ul 													{ list-style:none; font-size: 48}
		strong 													{ font-weight:700; }
		#itame 													{ width:auto; max-width: 800px; background:transparent; margin:3px auto; padding:10px;     color: #f94a4a !important; }
		div#itame h2 ul li											{ color: white; width:auto; border-bottom:1px solid #bdbdbd; padding:0 0 5px 0; font-size:32px; }
/*		h3.question 											{ font-weight:normal; margin:20px 0; padding:0; font-style:italic; display:block; }*/
		p.pager 												{ margin:5px 0 5px; color:#999; text-align:right; }
		.qnumber 												{ font-size:25px; font-weight:bold; font-style:italic; vertical-align:bottom; }
		.number 												{ font-family: "Consolas",Helvetica,Arial,sans-serif;font-size:24px; font-weight:bold; font-style:normal; vertical-align:inherit; padding-right:10px; }
		.score 													{ width:100%; display:inline-block; margin:30px 0; font-size:100px; text-align:center; }
		img.question-image 										{ width:50%; height:auto; display:block; max-width:150px; margin:10px auto; border:1px solid #ccc; }
		#choice-block 											{ display:block; list-style:none; margin:0; padding:0; cursor: pointer; }
	/*	#submitbutton 											{ cursor:pointer; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; } */
	/*	#submitbutton:hover 									{ background:#7b8da6; } */
		#explanation 											{ width:auto; min-height:0px; margin:0 auto; padding:0px 0; text-align:center;}
		#explanation span 										{ font-weight:bold; padding-right:8px; }
		.choice-box 											{ width:100%;  display:block;  text-align:center;  margin:5px auto !important; padding:10px 0 !important; border:1px solid #bdbdbd; }
      .choice-box.btn {font-size: 28px;}
		.correct 												{ color:#51a351; font-size: 32px; display: block; margin-bottom: 5px; border-bottom: 1px #51a351 solid; padding-bottom: 5px; }
		.incorrect 												{ color:#f93939; font-size: 32px; display: block; margin-bottom: 5px; border-bottom: 1px #f93939 solid; padding-bottom: 5px; }
    
#body{
width:100vw;
height:100vh;
}
 
    </style>

</head>

<body>
  

<div class="form-group rsform-block rsform-block-itamecontent"><div id="itame" role="content"></div>
</div>
</body>
</html>